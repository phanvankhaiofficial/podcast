<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HaruAki Nihongo</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./assets/images/logo.png" />

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Google Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/styles.css" />
    <!-- <link rel="stylesheet" href="./css/stylesmini.css" /> -->
    <link rel="manifest" href="./manifest.json" />
  </head>

  <body>
    <!-- Header -->
    <nav class="navbar d-flex align-items-center justify-content-between">
      <div class="nav-wrapper">
        <img
          src="./assets/images/logo.png"
          alt="HaruAki Logo"
          class="logo img-fluid"
          style="max-height: 40px"
        />
        <h1 class="mb-0">HaruAki Nihongo</h1>
        <div class="nav-controls">
          <div class="furigana-toggle-wrapper d-flex align-items-center">
            <span class="furigana-label">Furigana</span>
            <div class="form-check form-switch m-0">
              <input
                class="form-check-input"
                type="checkbox"
                role="switch"
                id="furiganaToggle"
              />
            </div>
          </div>
          <!-- <button class="btn btn-outline-secondary" id="menuToggle">☰</button> -->
          <svg
            id="menuToggle"
            xmlns="http://www.w3.org/2000/svg"
            width="40"
            height="40"
            fill="currentColor"
            class="bi bi-list"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"
            />
          </svg>
        </div>
      </div>
    </nav>
    <!-- Overlay -->
    <div id="menuOverlay" class="menu-overlay"></div>

    <!-- Menu -->
    <div id="playlistMenu" class="playlist-menu">
      <div class="playlistMenuHeader">
        <h5>Podcast Tiếng Nhật HaruAki Nihongo</h5>
        <button
          id="closeMenu"
          class="close-btn d-flex align-items-center justify-content-center"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-x-lg"
            viewBox="0 0 16 16"
          >
            <path
              d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"
            />
          </svg>
        </button>
      </div>
      <div class="video-grid-wrapper">
        <p class="disc">
          Trang web podcast này phát trực tiếp video từ YouTube của tác giả, kèm
          phụ đề song ngữ Nhật - Việt do đội ngũ HaruAki Nihongo biên dịch và
          tuân thủ hoàn toàn chính sách bản quyền của YouTube. Việc xem tại đây
          cũng góp phần tăng lượt xem cho tác giả. Do đó, quảng cáo có thể xuất
          hiện trong quá trình xem video. Mong bạn thông cảm và tiếp tục ủng hộ
          tác giả cùng HaruAki Nihongo!
        </p>
        <!-- <ul id="playlist" class="list-group mt-3"></ul> -->
        <div id="playlistGrid" class="list-group mt-3 playlist-grid"></div>
      </div>
    </div>

    <!-- Content -->
    <div
      class="container-fluid p-0 content d-flex flex-column align-items-center"
    >
      <div class="video-container d-flex flex-column align-items-center">
        <div class="video-wrapper">
          <div id="player" class="ratio ratio-16x9"></div>
        </div>
      </div>
      <div id="subtitleList" class="subtitle-list"></div>
    </div>

    <!-- Floating Toolbar Wrapper -->
    <div
      id="toolbarWrapper"
      class="d-flex flex-column align-items-end justify-content-end"
    >
      <div
        class="toolbar-button d-flex align-items-center justify-content-center w-100"
      >
        <button
          class="btn btn-transparent toolbar-btn"
          id="toolbarRepeatBtn"
          title="Repeat"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-arrow-repeat"
            viewBox="0 0 16 16"
          >
            <path
              d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"
            />
            <path
              fill-rule="evenodd"
              d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"
            />
          </svg>
        </button>
        <button
          class="btn btn-transparent toolbar-btn"
          id="toolbarSkipBackBtn"
          title="SkipBack"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-skip-start-fill"
            viewBox="0 0 16 16"
          >
            <path
              d="M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.54-.313 1.232.066 1.232.696v7.384c0 .63-.692 1.01-1.232.697L5 8.753V12a.5.5 0 0 1-1 0z"
            />
          </svg>
        </button>
        <button
          class="btn btn-transparent toolbar-btn"
          id="toolbarPlayBtn"
          title="Play"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-play-fill"
            viewBox="0 0 16 16"
          >
            <path
              d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393"
            />
          </svg>
        </button>
        <button
          class="btn btn-transparent toolbar-btn"
          id="toolbarSkipNextBtn"
          title="SkipNext"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-skip-end-fill"
            viewBox="0 0 16 16"
          >
            <path
              d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
            />
          </svg>
        </button>
        <button
          class="btn btn-transparent toolbar-btn"
          id="toolbarLikeBtn"
          title="Like"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-bookmark"
            viewBox="0 0 16 16"
          >
            <path
              d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"
            />
          </svg>
        </button>
      </div>
      <!-- button -->
      <div
        class="toolbar-fooster-button d-flex align-items-center justify-content-center w-100"
      >
        <button
          class="btn btn-transparent toolbar-ft-btn"
          id="ftAutoBtn"
          title="Micro"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-stars"
            viewBox="0 0 16 16"
          >
            <path
              d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.73 1.73 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.73 1.73 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.73 1.73 0 0 0 3.407 2.31zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"
            />
          </svg>
        </button>
        <button
          class="btn btn-transparent toolbar-ft-btn hiddenBtn"
          id="ftRecordBtn"
          title="Record"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-mic-fill"
            viewBox="0 0 16 16"
          >
            <path d="M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0z" />
            <path
              d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5"
            />
          </svg>
        </button>
        <button
          class="btn btn-transparent toolbar-ft-btn hiddenBtn"
          id="ftAutoListenBtn"
          title="Listen"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-play-circle-fill"
            viewBox="0 0 16 16"
          >
            <path
              d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814z"
            />
          </svg>
        </button>
        <button
          class="btn btn-transparent toolbar-ft-btn hiddenBtn"
          id="ftListenBtn"
          title="Listen"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-play-circle-fill"
            viewBox="0 0 16 16"
          >
            <path
              d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814z"
            />
          </svg>
        </button>
        <button
          class="btn btn-transparent toolbar-ft-btn"
          id="toolbarAutoBtn"
          title="Auto"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            fill="currentColor"
            class="bi bi-mic-fill"
            viewBox="0 0 16 16"
          >
            <path d="M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0z" />
            <path
              d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5"
            />
          </svg>
        </button>
      </div>
      <!-- content -->
      <div
        class="toolbar-content hiddenContent d-flex align-items-center justify-content-center w-100"
      >
        <div
          class="toolbar-auto-content hiddenContent d-flex align-items-center justify-content-center w-100"
        >
          <div
            class="toolbar-auto-listen hiddenContent d-flex align-items-center justify-content-center w-100"
          >
            Nghe mẫu
          </div>
          <div
            class="toolbar-auto-speak hiddenContent d-flex align-items-center justify-content-center w-100"
          >
            Phát âm
          </div>
          <div
            class="toolbar-auto-relisten hiddenContent d-flex align-items-center justify-content-center w-100"
          >
            Nghe lại
          </div>
        </div>
      </div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/kuroshiro@1.2.0/dist/kuroshiro.min.js"></script>
    <script src="https://unpkg.com/kuroshiro-analyzer-kuromoji@1.1.0/dist/kuroshiro-analyzer-kuromoji.min.js"></script>
    <script src="./js/script.js"></script>
    <!-- <script src="./js/scriptmini.js"></script> -->
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("./service-worker.js")
          .then((registration) => {
            console.log(
              "Service Worker registered with scope:",
              registration.scope
            );
          })
          .catch((error) => {
            console.error("Service Worker registration failed:", error);
          });
      }
    </script>
  </body>
</html>
