<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HaruAki Nihongo</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="./assets/images/logo.png" />

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="./css/reset.css" />
  <link rel="stylesheet" href="./css/styles.css" />
  <!-- <link rel="stylesheet" href="./css/stylesmini.css" /> -->
  <link rel="manifest" href="./manifest.json" />
</head>

<body>
  <!-- Header -->
  <nav class="navbar d-flex align-items-center justify-content-between">
    <div class="nav-wrapper">
      <img src="./assets/images/logo.png" alt="HaruAki Logo" class="logo img-fluid" style="max-height: 40px" />
      <h1 class="mb-0">HaruAki Nihongo</h1>
      <div class="nav-controls">
        <div class="furigana-toggle-wrapper d-flex align-items-center">
          <span class="furigana-label">Furigana</span>
          <div class="form-check form-switch m-0">
            <input class="form-check-input" type="checkbox" role="switch" id="furiganaToggle">
          </div>
        </div>
        <!-- <button class="btn btn-outline-secondary" id="menuToggle">☰</button> -->
        <svg id="menuToggle" xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor"
          class="bi bi-list" viewBox="0 0 16 16">
          <path fill-rule="evenodd"
            d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5" />
        </svg>
      </div>
    </div>
  </nav>
  <!-- Overlay -->
  <div id="menuOverlay" class="menu-overlay"></div>

  <!-- Menu -->
  <div id="playlistMenu" class="playlist-menu">
    <div class="playlistMenuHeader">
      <h5>Podcast Tiếng Nhật HaruAki Nihongo</h5>
      <button id="closeMenu" class="close-btn btn btn-outline-secondary">
        ✖
      </button>
    </div>
    <div class="video-grid-wrapper">
      <p class="disc">
        Trang web podcast này phát trực tiếp video từ YouTube của tác giả, kèm
        phụ đề song ngữ Nhật - Việt do đội ngũ HaruAki Nihongo biên dịch và
        tuân thủ hoàn toàn chính sách bản quyền của YouTube. Việc xem tại đây
        cũng góp phần tăng lượt xem cho tác giả. Do đó, quảng cáo có thể xuất
        hiện trong quá trình xem video. Mong bạn thông cảm và tiếp tục ủng hộ
        tác giả cùng HaruAki Nihongo!
      </p>
      <!-- <ul id="playlist" class="list-group mt-3"></ul> -->
      <div id="playlistGrid" class="list-group mt-3 playlist-grid"></div>
    </div>
  </div>

  <!-- Content -->
  <div class="container-fluid p-0 content d-flex flex-column align-items-center">
    <div class="video-container d-flex flex-column align-items-center">
      <div class="video-wrapper">
        <div id="player" class="ratio ratio-16x9"></div>
      </div>
    </div>
    <div id="subtitleList" class="subtitle-list"></div>
  </div>

<!-- Floating Toolbar Wrapper -->
<div id="toolbarWrapper" class="d-flex flex-column align-items-center justify-content-center">
  <div class="micro-content d-flex align-items-center justify-content-between px-3 py-2 w-100">

  </div>
  <div class="toolbar-content d-flex align-items-center justify-content-between px-2 py-2 w-100">
    <!-- Repeat Button -->
    <button class="btn btn-transparent toolbar-btn" id="repeatBtn" title="Repeat">
      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16">
        <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"/>
        <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"/>
      </svg>
    </button>

    <!-- Skip Backward Button -->
    <button class="btn btn-transparent toolbar-btn" id="skipBackBtn" title="Skip Backward">
      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-skip-start-fill" viewBox="0 0 16 16">
        <path d="M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.54-.313 1.232.066 1.232.696v7.384c0 .63-.692 1.01-1.232.697L5 8.753V12a.5.5 0 0 1-1 0z"/>
      </svg>
    </button>

    <!-- Play/Pause Button -->
    <button class="btn btn-transparent toolbar-btn" id="playPauseBtn" title="Play">
      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
        <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393"/>
      </svg>
    </button>

    <!-- Skip Forward Button -->
    <button class="btn btn-transparent toolbar-btn" id="skipForwardBtn" title="Skip Forward">
      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-skip-end-fill" viewBox="0 0 16 16">
        <path d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"/>
      </svg>
    </button>

    <!-- Microphone Button -->
    <button class="btn btn-transparent toolbar-btn" id="microphoneBtn" title="Microphone">
      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-mic-fill" viewBox="0 0 16 16">
        <path d="M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0z"/>
        <path d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5"/>
      </svg>
    </button>

    <!-- Microphone Button -->
    <button class="btn btn-transparent toolbar-btn" id="replayBtn" title="Replay">
      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-play-circle" viewBox="0 0 16 16">
        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
        <path d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445"/>
      </svg>
    </button>

    <!-- Microphone Button -->
    <button class="btn btn-transparent toolbar-btn" id="autoBtn" title="Autoplay">
      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-lightning-charge-fill" viewBox="0 0 16 16">
        <path d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"/>
      </svg>
    </button>
  </div>
</div>

  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/kuroshiro@1.2.0/dist/kuroshiro.min.js"></script>
  <script src="https://unpkg.com/kuroshiro-analyzer-kuromoji@1.1.0/dist/kuroshiro-analyzer-kuromoji.min.js"></script>
  <script src="./js/script.js"></script>
  <!-- <script src="./js/scriptmini.js"></script> -->
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker
        .register("./service-worker.js")
        .then((registration) => {
          console.log(
            "Service Worker registered with scope:",
            registration.scope
          );
        })
        .catch((error) => {
          console.error("Service Worker registration failed:", error);
        });
    }
  </script>
</body>

</html>